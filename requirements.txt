pytorch_lightning
transformers
torchmetrics
jsonlines
numpy

main.py --task=zsre --method=T-patch --edit_folder_num=1 --process_folders=[0] --task_id=test_all_no_up --gpu_nums=1 --tasks_per_gpu=2 --log_path=../log/T-patch/zsre/ups --log_name=log.txt --data_path=../data/zsre_data --seed=42 --batch_size=64 --model_path=/media/sev/Linux/pycharm_pro/Transformer-Patcher-main/log/models/bart_seq2seq/version_1/checkpoints/bart-seq2seq-epoch=08-valid_acc=0.4881.ckpt --train_sub_size=1000 --memory_size=40000 --debug_mode=0 --num_workers=0 --example_repeat=16 --temp_mode=0 --get_heat_map=0 --max_edit_step=10000 --early_patience=1 --early_mode=max --early_thd=0.01 --start_val_epoch=100 --ckpt_path=None --ckpt_monitor=save_ckpt --ckpt_metric_mode=max --optim=adam --lr=0.01 --weight_decay=0.01 --lr_scheduler_factor=0.5 --lr_scheduler_patience=1 --use_init_weight=1 --amplify_v=1 --amplify_con=10.0 --freeze_a=0 --freeze_k=0 --check_val_every_n_epoch=25 --memory_loss=top1000_exp+top1000_exp --mlc=10 --update_memory=1 --margin_val1=3 --margin_val2=-3 --activate_loss=top5_exp --act_loss_thd=0.1 --alc=1.0 --act_margin_val=0.0 --freeze_model=True --val_metric_type=loss --max_add_neuron_num=5 --use_val=1 --ft_optim=adam --ft_lr=1e-05 --use_kl=0 --alpha=1.0 --loc_num=512 --ft_update_memory=0 --layer=11 --fold_n=0 --device=0

nohup python T-patch.py --task=zsre --method=T-patch --edit_folder_num=1 --process_folders=[0] --task_id=test_all_up --gpu_nums=1 --tasks_per_gpu=2 --log_path=../log/T-patch/zsre/ups --log_name=log.txt --data_path=../data/zsre_data --seed=42 --batch_size=64 --model_path=../log/models/bart_seq2seq/version_1/checkpoints/bart-seq2seq-epoch=08-valid_acc=0.4881.ckpt --train_sub_size=1000 --memory_size=40000 --debug_mode=0 --num_workers=0 --example_repeat=16 --temp_mode=0 --get_heat_map=0 --max_edit_step=10000 --early_patience=1 --early_mode=max --early_thd=0.01 --start_val_epoch=100 --ckpt_path=None --ckpt_monitor=save_ckpt --ckpt_metric_mode=max --optim=adam --lr=0.01 --weight_decay=0.01 --lr_scheduler_factor=0.5 --lr_scheduler_patience=1 --use_init_weight=1 --amplify_v=1 --amplify_con=10.0 --freeze_a=0 --freeze_k=0 --check_val_every_n_epoch=25 --memory_loss=top1000_exp+top1000_exp --mlc=10 --update_memory=1 --margin_val1=3 --margin_val2=-3 --activate_loss=top5_exp --act_loss_thd=0.1 --alc=1.0 --act_margin_val=0.0 --freeze_model=True --val_metric_type=loss --max_add_neuron_num=5 --use_val=1 --ft_optim=adam --ft_lr=1e-05 --use_kl=0 --alpha=1.0 --loc_num=512 --ft_update_memory=0 --layer=11 --fold_n=0 --device=0 > test_all_up.log 2>&1 &


nohup python T-patch.py --task=fever --method=T-patch --edit_folder_num=1 --process_folders=[0] --task_id=fever_alls_up --gpu_nums=1 --tasks_per_gpu=2 --log_path=../log/T-patch/fever/fever_T-patch_1folders_bert-binary-epoch=03-valid_acc=0.8795.ckpt --log_name=log.txt --data_path=../data/fever_data --seed=42 --batch_size=64 --model_path=../log/models/bert_binary/version_1/checkpoints/bert-binary-epoch=03-valid_acc=0.8795.ckpt --train_sub_size=10000 --memory_size=40000 --debug_mode=0 --num_workers=0 --example_repeat=8 --temp_mode=0 --get_heat_map=0 --max_edit_step=10000 --early_patience=1 --early_mode=max --early_thd=0.01 --start_val_epoch=100 --ckpt_path=None --ckpt_monitor=save_ckpt --ckpt_metric_mode=max --optim=adam --lr=0.01 --weight_decay=0.01 --lr_scheduler_factor=0.5 --lr_scheduler_patience=1 --use_init_weight=1 --amplify_v=1 --amplify_con=10.0 --freeze_a=0 --freeze_k=0 --check_val_every_n_epoch=25 --memory_loss=top1000_exp+top1000_exp --mlc=5 --update_memory=1 --margin_val1=3 --margin_val2=-3 --activate_loss=top5_exp --act_loss_thd=0.1 --alc=1.0 --act_margin_val=0.0 --freeze_model=True --val_metric_type=loss --max_add_neuron_num=5 --use_val=1 --ft_optim=adam --ft_lr=1e-05 --use_kl=0 --alpha=1.0 --loc_num=512 --ft_update_memory=1 --layer=11 --fold_n=0 --device=0 > fever_test_all.log 2>&1 &